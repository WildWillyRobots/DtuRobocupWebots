#VRML_SIM R2025a utf8

EXTERNPROTO "Gate.proto"

PROTO StartBarrier [
  field SFVec3f    translation       0 0 0
  field SFRotation rotation          0 0 1 0
  field SFVec3f    gateTranslation   -0.120319 -0.199808 0
  field SFRotation gateRotation      0 0 1 3.14
  field SFVec3f    startTranslation  -0.83 1.49 0.04
  field SFRotation startRotation     0 0 1 0 
]
{
Robot {
  name "robotStartBarrier"
  translation IS translation
  rotation IS rotation
  children [
    Gate {
      translation IS gateTranslation
      rotation IS gateRotation
    }
    Solid {
      translation 0 0 0
      rotation 0.9621908995320103 0.272375977020025 4.093265724528339e-07 0.00019992915472812802
      children [
        Shape {
          appearance DEF start_app PBRAppearance {
            baseColor 0.627451 0.627451 0.627451
            roughness 1
            metalness 0
          }
          geometry Mesh {
            url [
              "StartBarrier.dae"
            ]
            materialIndex 0
          }
        }
        HingeJoint {
          jointParameters HingeJointParameters {
            position 1.569999990780837
            axis 0 1 0
            anchor 0.0420265 0 0.04
          }
          device [
            RotationalMotor {
              name "motor_barrier"
              maxVelocity 0.8
            }
          ]
          endPoint Solid {
            translation 0.001993040494485024 -2.1169166419808946e-09 0.08198964639697862
            rotation 0 1 0 1.5699999907808369
            children [
              Shape {
                appearance USE start_app
                geometry Mesh {
                  url [
                    "StartBarrier.dae"
                  ]
                  materialIndex 3
                }
              }
              Shape {
                appearance PBRAppearance {
                  baseColor 1 1 0
                  roughness 1
                  metalness 0
                }
                geometry Mesh {
                  url [
                    "StartBarrier.dae"
                  ]
                  materialIndex 1
                }
              }
              Shape {
                appearance PBRAppearance {
                  baseColor 0 0 0
                  roughness 1
                  metalness 0
                }
                geometry Mesh {
                  url [
                    "StartBarrier.dae"
                  ]
                  materialIndex 2
                }
              }
            ]
            boundingObject Pose {
              translation -0.204 -0.01 0.04
              children [
                Box {
                  size 0.4 0.02 0.04
                }
              ]
            }
            physics Physics {
            }
            linearVelocity -3.7531352699675217e-10 -2.9284142191808895e-08 -1.4466848239322002e-07
            angularVelocity 1.0696993808604708e-07 -1.243760434775596e-09 -2.0872771354455422e-10
          }
        }
        Pose {
          children [
            Solid {
              translation IS startTranslation
              rotation IS startRotation
              children [
                Shape {
                  appearance USE start_app
                  geometry DEF startbox Box {
                    size 0.16 0.08 0.08
                  }
                }
                DistanceSensor {
                  name "distance_sensor_start"
                  translation 0 0.3 0.0
                  rotation 0 0 1 -1.57
                  lookupTable [
                      0 1 0
                      0.7 0 0
                  ]
                }
              ]
              name "solid(1)"
              boundingObject USE startbox
              physics Physics {
              }
            }
          ]
        }
      ]
      boundingObject Pose {
        translation 0.08 0.04 0.04
        children [
          Box {
            size 0.16 0.08 0.08
          }
        ]
      }
      physics Physics {
      }
      linearVelocity 0 0 0
      angularVelocity 0 0 0
    }
  ]
  controller "obstacleCommonStartBarrier"
}
}